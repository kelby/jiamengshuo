<p id="notice"><%= notice %></p>

<p>
  <h1><%= @topic.title %></h1>
</p>

<p>
  <strong>Created At:</strong>
  <%= @topic.created_at %>
</p>

<p>
  <strong>Created By:</strong>
  <%= @topic.user.username %>
</p>

<p>
  <%= raw(markdown_for @topic.body) %>
</p>

<p>
  <strong>Tag List:</strong>
  <% @topic.tags.each do |tag| %>
    <%= tag.name %>
  <% end %>
</p>

<%# unless current_user.sticking? @topic %>
  <%= link_to sticking_topic_path(@topic), method: :post, remote: true, title: '加入' do %>
    <i class="fi-arrows-compress"></i>
  <% end %>
<%# end %>

<%# unless current_user.followering? @topic %>
  <%= link_to followering_topic_path(@topic), method: :post, remote: true, title: '关注' do %>
    <i class="fi-eye"></i>
  <% end %>
<%# end %>

<%# unless current_user.keepering? @topic %>
  <%= link_to keepering_topic_path(@topic), method: :post, remote: true, title: '收藏' do %>
    <i class="fi-bookmark"></i>
  <% end %>
<%# end %>

<br>

<% if can? :update, @topic %>
  <%= link_to 'Edit', edit_topic_path(@topic) %>
<% end %>

<% if can? :delete, @topic %>
  <td><%= link_to 'Destroy', @topic, method: :delete, data: { confirm: 'Are you sure?' } %></td>
<% end %>
